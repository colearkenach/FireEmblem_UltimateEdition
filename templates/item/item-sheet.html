<form class="{{cssClass}} flexcol" autocomplete="off">

    {{!-- Sheet Header --}}
    <header class="sheet-header flexrow">
        <img class="item-img" src="{{item.img}}" data-edit="img" title="{{item.name}}" />
        <div class="header-fields flexcol">
            <h1 class="item-name">
                <input name="name" type="text" value="{{item.name}}" placeholder="Item Name" />
            </h1>
        </div>
    </header>

    {{!-- Sheet Tab Navigation --}}
    <nav class="sheet-tabs tabs" data-group="primary">
        <a class="item" data-tab="description">Description</a>
        {{#if (eq item.type "weapon")}}
        <a class="item" data-tab="weapon">Weapon</a>
        {{/if}}
        {{#if (eq item.type "spell")}}
        <a class="item" data-tab="spell">Spell</a>
        {{/if}}
        {{#if (eq item.type "class")}}
        <a class="item" data-tab="class">Class</a>
        {{/if}}
    </nav>

    {{!-- Sheet Body --}}
    <section class="sheet-body">

        {{!-- Description Tab --}}
        <div class="tab description" data-group="primary" data-tab="description">
            <div class="form-group">
                <label>Description</label>
                <textarea name="system.description" rows="6" placeholder="Item description...">{{system.description}}</textarea>
            </div>

            <div class="form-row">
                <div class="form-group">
                    <label>Price</label>
                    <input type="number" name="system.price" value="{{system.price}}" placeholder="0" />
                </div>

                {{#unless (eq item.type "skill")}}
                {{#unless (eq item.type "spell")}}
                {{#unless (eq item.type "class")}}
                <div class="form-group">
                    <label>Weight</label>
                    <input type="number" name="system.weight" value="{{system.weight}}" placeholder="0" />
                </div>

                <div class="form-group">
                    <label>Quantity</label>
                    <input type="number" name="system.quantity" value="{{system.quantity}}" placeholder="1" />
                </div>
                {{/unless}}
                {{/unless}}
                {{/unless}}
            </div>
        </div>

        {{!-- Weapon Tab --}}
        {{#if (eq item.type "weapon")}}
        <div class="tab weapon" data-group="primary" data-tab="weapon">
            <div class="form-row">
                <div class="form-group">
                    <label>Weapon Type</label>
                    <select name="system.weaponType">
                        {{#each FEUE.WeaponTypes as |label key|}}
                        <option value="{{key}}" {{#ifEquals ../system.weaponType key}} selected{{/ifEquals}}>{{label}}</option>
                        {{/each}}
                    </select>
                </div>

                <div class="form-group">
                    <label>Weapon Rank</label>
                    <select name="system.rank">
                        {{#each FEUE.WEAPON_RANKS as |rankData rankKey|}}
                        <option value="{{rankKey}}" {{#ifEquals ../system.rank rankKey}} selected{{/ifEquals}}>{{rankData.label}}</option>
                        {{/each}}
                    </select>
                </div>
            </div>

            <div class="form-row">
                <div class="form-group">
                    <label>Might</label>
                    <input type="number" name="system.might" value="{{system.might}}" placeholder="0" />
                </div>

                <div class="form-group">
                    <label>Hit Rate</label>
                    <input type="number" name="system.hit" value="{{system.hit}}" placeholder="0" />
                </div>

                <div class="form-group">
                    <label>Crit Rate</label>
                    <input type="number" name="system.crit" value="{{system.crit}}" placeholder="0" />
                </div>
            </div>

            <div class="form-row">
                <div class="form-group">
                    <label>Range</label>
                    <input type="text" name="system.range" value="{{system.range}}" placeholder="1" />
                </div>

                <div class="form-group">
                    <label>Uses</label>
                    <div class="uses-group">
                        <input type="number" name="system.uses.value" value="{{system.uses.value}}" placeholder="0" />
                        <span>/</span>
                        <input type="number" name="system.uses.max" value="{{system.uses.max}}" placeholder="0" />
                    </div>
                </div>
            </div>

            <div class="form-group">
                <label>Weapon Properties</label>
                <textarea name="system.properties" rows="2" placeholder="List weapon properties...">{{system.properties}}</textarea>
            </div>
        </div>
        {{/if}}

        {{!-- Spell Tab --}}
        {{#if (eq item.type "spell")}}
        <div class="tab spell" data-group="primary" data-tab="spell">
            <div class="form-row">
                <div class="form-group">
                    <label>School</label>
                    <select name="system.school">
                        <option value="black" {{#ifEquals system.school "black"}} selected{{/ifEquals}}>Black Magic</option>
                        <option value="white" {{#ifEquals system.school "white"}} selected{{/ifEquals}}>White Magic</option>
                        <option value="dark" {{#ifEquals system.school "dark"}} selected{{/ifEquals}}>Dark Magic</option>
                    </select>
                </div>

                <div class="form-group">
                    <label>Weapon Rank</label>
                    <select name="system.rank">
                        {{#each FEUE.WEAPON_RANKS as |rankData rankKey|}}
                        <option value="{{rankKey}}" {{#ifEquals ../system.rank rankKey}} selected{{/ifEquals}}>{{rankData.label}}</option>
                        {{/each}}
                    </select>
                </div>
            </div>

            <div class="form-row">
                <div class="form-group">
                    <label>HP Cost</label>
                    <input type="number" name="system.hpCost" value="{{system.hpCost}}" placeholder="1" />
                </div>

                <div class="form-group">
                    <label>Might</label>
                    <input type="number" name="system.might" value="{{system.might}}" placeholder="0" />
                </div>

                <div class="form-group">
                    <label>Hit Rate</label>
                    <input type="number" name="system.hit" value="{{system.hit}}" placeholder="0" />
                </div>
            </div>

            <div class="form-row">
                <div class="form-group">
                    <label>Crit Rate</label>
                    <input type="number" name="system.crit" value="{{system.crit}}" placeholder="0" />
                </div>

                <div class="form-group">
                    <label>Range</label>
                    <input type="text" name="system.range" value="{{system.range}}" placeholder="1-2" />
                </div>
            </div>

            <div class="form-group">
                <label>Special Effects</label>
                <textarea name="system.special" rows="2" placeholder="Special spell effects...">{{system.special}}</textarea>
            </div>
        </div>
        {{/if}}

        {{!-- Class Tab --}}
        {{#if (eq item.type "class")}}
        <div class="tab class" data-group="primary" data-tab="class">
            <div class="form-row">
                <div class="form-group">
                    <label>Class Type</label>
                    <select name="system.classType">
                        <option value="Recruit" {{#ifEquals system.classType "Recruit"}} selected{{/ifEquals}}>Recruit</option>
                        <option value="Standard" {{#ifEquals system.classType "Standard"}} selected{{/ifEquals}}>Standard</option>
                        <option value="Promoted" {{#ifEquals system.classType "Promoted"}} selected{{/ifEquals}}>Promoted</option>
                        <option value="Advanced" {{#ifEquals system.classType "Advanced"}} selected{{/ifEquals}}>Advanced</option>
                        <option value="Enemy Only" {{#ifEquals system.classType "Enemy Only"}} selected{{/ifEquals}}>Enemy Only</option>
                    </select>
                </div>

                <div class="form-group">
                    <label>Max Level</label>
                    <input type="number" name="system.maxLevel" value="{{system.maxLevel}}" placeholder="20" />
                </div>

                <div class="form-group">
                    <label>Movement</label>
                    <input type="number" name="system.movement" value="{{system.movement}}" placeholder="4" />
                </div>
            </div>

            <div class="form-group">
                <label>Unit Types (comma-separated)</label>
                <input type="text" name="system.unitTypes" value="{{join system.unitTypes ','}}" placeholder="Infantry, Magician" />
            </div>

            <div class="form-group">
                <label>Weapon Proficiencies (comma-separated)</label>
                <input type="text" name="system.weaponProficiencies" value="{{join system.weaponProficiencies ','}}" placeholder="sword, lance" />
            </div>

            <h4>Base Stats</h4>
            <div class="stats-grid">
                <div class="form-group">
                    <label>HP</label>
                    <input type="number" name="system.baseStats.hp" value="{{system.baseStats.hp}}" placeholder="15" />
                </div>
                <div class="form-group">
                    <label>STR</label>
                    <input type="number" name="system.baseStats.strength" value="{{system.baseStats.strength}}" placeholder="5" />
                </div>
                <div class="form-group">
                    <label>MAG</label>
                    <input type="number" name="system.baseStats.magic" value="{{system.baseStats.magic}}" placeholder="0" />
                </div>
                <div class="form-group">
                    <label>SKL</label>
                    <input type="number" name="system.baseStats.skill" value="{{system.baseStats.skill}}" placeholder="5" />
                </div>
                <div class="form-group">
                    <label>SPD</label>
                    <input type="number" name="system.baseStats.speed" value="{{system.baseStats.speed}}" placeholder="5" />
                </div>
                <div class="form-group">
                    <label>DEF</label>
                    <input type="number" name="system.baseStats.defense" value="{{system.baseStats.defense}}" placeholder="2" />
                </div>
                <div class="form-group">
                    <label>RES</label>
                    <input type="number" name="system.baseStats.resistance" value="{{system.baseStats.resistance}}" placeholder="0" />
                </div>
                <div class="form-group">
                    <label>LUK</label>
                    <input type="number" name="system.baseStats.luck" value="{{system.baseStats.luck}}" placeholder="2" />
                </div>
                <div class="form-group">
                    <label>CHA</label>
                    <input type="number" name="system.baseStats.charm" value="{{system.baseStats.charm}}" placeholder="1" />
                </div>
                <div class="form-group">
                    <label>BLD</label>
                    <input type="number" name="system.baseStats.build" value="{{system.baseStats.build}}" placeholder="7" />
                </div>
            </div>

            <h4>Growth Rates</h4>
            <div class="stats-grid">
                <div class="form-group">
                    <label>HP</label>
                    <input type="number" name="system.growthRates.hp" value="{{system.growthRates.hp}}" placeholder="4" />
                </div>
                <div class="form-group">
                    <label>STR</label>
                    <input type="number" name="system.growthRates.strength" value="{{system.growthRates.strength}}" placeholder="6" />
                </div>
                <div class="form-group">
                    <label>MAG</label>
                    <input type="number" name="system.growthRates.magic" value="{{system.growthRates.magic}}" placeholder="2" />
                </div>
                <div class="form-group">
                    <label>SKL</label>
                    <input type="number" name="system.growthRates.skill" value="{{system.growthRates.skill}}" placeholder="6" />
                </div>
                <div class="form-group">
                    <label>SPD</label>
                    <input type="number" name="system.growthRates.speed" value="{{system.growthRates.speed}}" placeholder="4" />
                </div>
                <div class="form-group">
                    <label>DEF</label>
                    <input type="number" name="system.growthRates.defense" value="{{system.growthRates.defense}}" placeholder="2" />
                </div>
                <div class="form-group">
                    <label>RES</label>
                    <input type="number" name="system.growthRates.resistance" value="{{system.growthRates.resistance}}" placeholder="2" />
                </div>
                <div class="form-group">
                    <label>LUK</label>
                    <input type="number" name="system.growthRates.luck" value="{{system.growthRates.luck}}" placeholder="2" />
                </div>
                <div class="form-group">
                    <label>CHA</label>
                    <input type="number" name="system.growthRates.charm" value="{{system.growthRates.charm}}" placeholder="2" />
                </div>
                <div class="form-group">
                    <label>BLD</label>
                    <input type="number" name="system.growthRates.build" value="{{system.growthRates.build}}" placeholder="2" />
                </div>
            </div>

            <h4>Stat Caps</h4>
            <div class="stats-grid">
                <div class="form-group">
                    <label>HP</label>
                    <input type="number" name="system.statCaps.hp" value="{{system.statCaps.hp}}" placeholder="60" />
                </div>
                <div class="form-group">
                    <label>STR</label>
                    <input type="number" name="system.statCaps.strength" value="{{system.statCaps.strength}}" placeholder="20" />
                </div>
                <div class="form-group">
                    <label>MAG</label>
                    <input type="number" name="system.statCaps.magic" value="{{system.statCaps.magic}}" placeholder="20" />
                </div>
                <div class="form-group">
                    <label>SKL</label>
                    <input type="number" name="system.statCaps.skill" value="{{system.statCaps.skill}}" placeholder="20" />
                </div>
                <div class="form-group">
                    <label>SPD</label>
                    <input type="number" name="system.statCaps.speed" value="{{system.statCaps.speed}}" placeholder="20" />
                </div>
                <div class="form-group">
                    <label>DEF</label>
                    <input type="number" name="system.statCaps.defense" value="{{system.statCaps.defense}}" placeholder="20" />
                </div>
                <div class="form-group">
                    <label>RES</label>
                    <input type="number" name="system.statCaps.resistance" value="{{system.statCaps.resistance}}" placeholder="20" />
                </div>
                <div class="form-group">
                    <label>LUK</label>
                    <input type="number" name="system.statCaps.luck" value="{{system.statCaps.luck}}" placeholder="30" />
                </div>
                <div class="form-group">
                    <label>CHA</label>
                    <input type="number" name="system.statCaps.charm" value="{{system.statCaps.charm}}" placeholder="20" />
                </div>
                <div class="form-group">
                    <label>BLD</label>
                    <input type="number" name="system.statCaps.build" value="{{system.statCaps.build}}" placeholder="20" />
                </div>
            </div>

            <div class="form-group">
                <label>Promotes Into (comma-separated)</label>
                <input type="text" name="system.promotesInto" value="{{join system.promotesInto ','}}" placeholder="hero, ranger" />
            </div>
        </div>
        {{/if}}

    </section>
</form>